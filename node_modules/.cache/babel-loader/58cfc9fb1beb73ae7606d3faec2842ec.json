{"ast":null,"code":"/* eslint-disable */\nimport VALIDATEDDEEPLINK from \"../deeplink.config\";\nexport const clearLocalStorage = () => {\n  localStorage.removeItem(\"symptoms_analyzer_pwa_access_token\");\n  localStorage.removeItem(\"symptoms_analyzer_pwa_refresh_token\");\n  localStorage.removeItem(\"symptoms_analyzer_pwa_tenant_name\");\n  localStorage.removeItem(\"symptoms_analyzer_pwa_user_type\");\n  localStorage.removeItem(\"myUserDetails\");\n  if (sessionStorage.getItem(\"AzureException\") != \"true\") {\n    sessionStorage.clear();\n  }\n};\nexport const validateSession = () => {\n  let token = localStorage.getItem(\"symptoms_analyzer_pwa_access_token\");\n  if (token) {\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const capitalize = param => {\n  return param[0].toUpperCase() + param.slice(1);\n};\nexport const getPatientId = () => {\n  return sessionStorage.getItem(\"patientId\");\n};\n// azure redirect\nexport const FetchDeepLink = url => {\n  const VALIDATELINK = VALIDATEDDEEPLINK(url);\n  const ISLINKEXPIRED = sessionStorage.getItem(\"symptoms_analyzer_pwa_deeplink_done\") ? true : false;\n  const ISNONREDIRECTURL = sessionStorage.getItem(\"symptoms_analyzer_pwa_non_redirect_url\") ? true : false; // after payment done...\n  if (VALIDATELINK && !ISLINKEXPIRED) {\n    sessionStorage.setItem(\"symptoms_analyzer_pwa_deeplink_done\", \"done\");\n    sessionStorage.setItem(\"symptoms_analyzer_pwa_path_name\", url.href);\n  } else {\n    sessionStorage.setItem(\"symptoms_analyzer_pwa_deeplink_done\", \"done\");\n  }\n};\n_c = FetchDeepLink;\nexport const getShortName = user => {\n  let name = \"\";\n  if (user !== null && user !== void 0 && user.firstName) {\n    name = name + (user === null || user === void 0 ? void 0 : user.firstName.charAt(0).toUpperCase());\n  }\n  if (user !== null && user !== void 0 && user.lastName) {\n    name = name + (user === null || user === void 0 ? void 0 : user.lastName.charAt(0).toUpperCase());\n  }\n  return name;\n};\nexport function detectDevice() {\n  //For Ios\n  const params = new URLSearchParams(window.location.search);\n  const pathnNme = window.location.pathname;\n  const targetPath = `${process.env.REACT_APP_HOMEPAGE}/homesreen`;\n  if (pathnNme == targetPath && params.get(\"device\") == \"true\") {\n    console.info(\"%cCreated bridge flag for devices\", \"color: white; background: green; font-size: 12px\");\n    sessionStorage.setItem(\"isBridgeAccess\", \"true\");\n    return true;\n  } else {\n    return false;\n  }\n}\nexport const fnBrowserDetect = () => {\n  let userAgent = navigator.userAgent;\n  let browserName;\n  if (userAgent.match(/chrome|chromium|crios/i)) {\n    browserName = \"Chrome\";\n  } else if (userAgent.match(/firefox|fxios/i)) {\n    browserName = \"Firefox\";\n  } else if (userAgent.match(/safari/i)) {\n    browserName = \"Safari\";\n  } else if (userAgent.match(/opr\\//i)) {\n    browserName = \"Opera\";\n  } else if (userAgent.match(/edg/i)) {\n    browserName = \"Edge\";\n  } else {\n    browserName = \"No browser detection\";\n  }\n  return browserName;\n};\nexport function AzureException() {\n  //For Android, login directly  with azure/normal tokens\n  const params = new URLSearchParams(window.location.search);\n  const pathnNme = window.location.pathname;\n  const bridgePath = `${process.env.REACT_APP_HOMEPAGE}/bridge`;\n  const autologinPath = `${process.env.REACT_APP_HOMEPAGE}/autologin`;\n  if (pathnNme == bridgePath) {\n    //console.info('%cBypassing Azure.', 'color: white; background: green; font-size: 12px');\n    //sessionStorage.setItem(\"AzureException\", \"true\");\n    //return true;\n    return false;\n  } else if (pathnNme == autologinPath) {\n    console.info(\"%cBypassing Azure, Redirect to login...\", \"color: white; background: #1662c7; font-size: 12px\");\n    sessionStorage.setItem(\"AzureException\", \"true\");\n    return true;\n  } else {\n    return false;\n  }\n}\n_c2 = AzureException;\nexport const getTenant = () => {\n  const url = new URL(window.location.href);\n  var appTenant = localStorage.getItem(\"svaas_cpwa_tenant_name\");\n  if (url.pathname.includes(\"/sbi\") || (appTenant === null || appTenant === void 0 ? void 0 : appTenant.toLowerCase()) == \"sbi\") {\n    return \"SBI\";\n  } else if (url.pathname.includes(\"/abhi\") || (appTenant === null || appTenant === void 0 ? void 0 : appTenant.toLowerCase()) == \"abhi\") {\n    return \"Abhi\";\n  } else {\n    return \"Abhi\";\n  }\n};\nexport const camelCase = name => {\n  const words = name.split(\" \");\n  const capitalizedWords = words.map(word => {\n    if (word.length === 0) {\n      return \"\";\n    }\n    return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n  });\n  return capitalizedWords.join(\" \");\n};\nvar _c, _c2;\n$RefreshReg$(_c, \"FetchDeepLink\");\n$RefreshReg$(_c2, \"AzureException\");","map":{"version":3,"names":["VALIDATEDDEEPLINK","clearLocalStorage","localStorage","removeItem","sessionStorage","getItem","clear","validateSession","token","capitalize","param","toUpperCase","slice","getPatientId","FetchDeepLink","url","VALIDATELINK","ISLINKEXPIRED","ISNONREDIRECTURL","setItem","href","_c","getShortName","user","name","firstName","charAt","lastName","detectDevice","params","URLSearchParams","window","location","search","pathnNme","pathname","targetPath","process","env","REACT_APP_HOMEPAGE","get","console","info","fnBrowserDetect","userAgent","navigator","browserName","match","AzureException","bridgePath","autologinPath","_c2","getTenant","URL","appTenant","includes","toLowerCase","camelCase","words","split","capitalizedWords","map","word","length","join","$RefreshReg$"],"sources":["/home/saurabhtiwari/Downloads/githubclone-IQ/SymptomIQ/src/utils/general.ts"],"sourcesContent":["/* eslint-disable */\nimport VALIDATEDDEEPLINK from \"../deeplink.config\";\n\nexport const clearLocalStorage = () => {\n  localStorage.removeItem(\"symptoms_analyzer_pwa_access_token\");\n  localStorage.removeItem(\"symptoms_analyzer_pwa_refresh_token\");\n  localStorage.removeItem(\"symptoms_analyzer_pwa_tenant_name\");\n  localStorage.removeItem(\"symptoms_analyzer_pwa_user_type\");\n  localStorage.removeItem(\"myUserDetails\");\n  if (sessionStorage.getItem(\"AzureException\") != \"true\") {\n    sessionStorage.clear();\n  }\n};\n\nexport const validateSession = () => {\n  let token = localStorage.getItem(\"symptoms_analyzer_pwa_access_token\");\n  if (token) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport const capitalize = (param: any) => {\n  return param[0].toUpperCase() + param.slice(1);\n};\n\nexport const getPatientId = () => {\n  return sessionStorage.getItem(\"patientId\");\n};\n// azure redirect\nexport const FetchDeepLink = (url: any) => {\n  const VALIDATELINK: any = VALIDATEDDEEPLINK(url);\n  const ISLINKEXPIRED: boolean = sessionStorage.getItem(\n    \"symptoms_analyzer_pwa_deeplink_done\"\n  )\n    ? true\n    : false;\n  const ISNONREDIRECTURL: any = sessionStorage.getItem(\n    \"symptoms_analyzer_pwa_non_redirect_url\"\n  )\n    ? true\n    : false; // after payment done...\n  if (VALIDATELINK && !ISLINKEXPIRED) {\n    sessionStorage.setItem(\"symptoms_analyzer_pwa_deeplink_done\", \"done\");\n    sessionStorage.setItem(\"symptoms_analyzer_pwa_path_name\", url.href);\n  } else {\n    sessionStorage.setItem(\"symptoms_analyzer_pwa_deeplink_done\", \"done\");\n  }\n};\nexport const getShortName = (user: any) => {\n  let name = \"\";\n  if (user?.firstName) {\n    name = name + user?.firstName.charAt(0).toUpperCase();\n  }\n  if (user?.lastName) {\n    name = name + user?.lastName.charAt(0).toUpperCase();\n  }\n  return name;\n};\nexport function detectDevice() {\n  //For Ios\n  const params: any = new URLSearchParams(window.location.search);\n  const pathnNme: any = window.location.pathname;\n  const targetPath: any = `${process.env.REACT_APP_HOMEPAGE}/homesreen`;\n  if (pathnNme == targetPath && params.get(\"device\") == \"true\") {\n    console.info(\n      \"%cCreated bridge flag for devices\",\n      \"color: white; background: green; font-size: 12px\"\n    );\n    sessionStorage.setItem(\"isBridgeAccess\", \"true\");\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport const fnBrowserDetect = () => {\n  let userAgent = navigator.userAgent;\n  let browserName;\n\n  if (userAgent.match(/chrome|chromium|crios/i)) {\n    browserName = \"Chrome\";\n  } else if (userAgent.match(/firefox|fxios/i)) {\n    browserName = \"Firefox\";\n  } else if (userAgent.match(/safari/i)) {\n    browserName = \"Safari\";\n  } else if (userAgent.match(/opr\\//i)) {\n    browserName = \"Opera\";\n  } else if (userAgent.match(/edg/i)) {\n    browserName = \"Edge\";\n  } else {\n    browserName = \"No browser detection\";\n  }\n  return browserName;\n};\n\nexport function AzureException() {\n  //For Android, login directly  with azure/normal tokens\n  const params: any = new URLSearchParams(window.location.search);\n  const pathnNme: any = window.location.pathname;\n  const bridgePath: any = `${process.env.REACT_APP_HOMEPAGE}/bridge`;\n  const autologinPath: any = `${process.env.REACT_APP_HOMEPAGE}/autologin`;\n  if (pathnNme == bridgePath) {\n    //console.info('%cBypassing Azure.', 'color: white; background: green; font-size: 12px');\n    //sessionStorage.setItem(\"AzureException\", \"true\");\n    //return true;\n    return false;\n  } else if (pathnNme == autologinPath) {\n    console.info(\n      \"%cBypassing Azure, Redirect to login...\",\n      \"color: white; background: #1662c7; font-size: 12px\"\n    );\n    sessionStorage.setItem(\"AzureException\", \"true\");\n    return true;\n  } else {\n    return false;\n  }\n}\nexport const getTenant = () => {\n  const url = new URL(window.location.href);\n  var appTenant: any = localStorage.getItem(\"svaas_cpwa_tenant_name\");\n\n  if (url.pathname.includes(\"/sbi\") || appTenant?.toLowerCase() == \"sbi\") {\n    return \"SBI\";\n  } else if (\n    url.pathname.includes(\"/abhi\") ||\n    appTenant?.toLowerCase() == \"abhi\"\n  ) {\n    return \"Abhi\";\n  } else {\n    return \"Abhi\";\n  }\n};\n\nexport const camelCase = (name: string) => {\n  const words = name.split(\" \");\n  const capitalizedWords = words.map((word) => {\n    if (word.length === 0) {\n      return \"\";\n    }\n    return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n  });\n  return capitalizedWords.join(\" \");\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}