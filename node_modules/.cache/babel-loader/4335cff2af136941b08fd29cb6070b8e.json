{"ast":null,"code":"var _jsxFileName = \"/home/saurabhtiwari/Downloads/githubclone-IQ/SymptomIQ/src/modules/azure/azureRouting.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { callMsGraph } from \"./graphConfig\";\nimport { loginRequest } from \"./authConfig\";\nimport { MsalAuthenticationTemplate, useMsal } from \"@azure/msal-react\";\nimport { InteractionStatus, InteractionType, InteractionRequiredAuthError } from \"@azure/msal-browser\";\nimport App from \"../../App\";\nimport SvassLoginLoader from \"@app/assets/icons/svaasloginloader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AzureRoute() {\n  _s();\n  const {\n    instance,\n    inProgress\n  } = useMsal();\n  const [graphData, setGraphData] = useState(null);\n  // const { name } = useParams<RouteParams>();\n\n  useEffect(() => {\n    if (!graphData && inProgress === InteractionStatus.None) {\n      callMsGraph().then(response => {\n        setGraphData(response);\n      }).catch(e => {\n        if (e instanceof InteractionRequiredAuthError) {\n          instance.acquireTokenRedirect({\n            ...loginRequest,\n            account: instance.getActiveAccount()\n          });\n        }\n      });\n    }\n  }, [inProgress, graphData, instance]);\n  const authRequest = {\n    ...loginRequest\n  };\n  return /*#__PURE__*/_jsxDEV(MsalAuthenticationTemplate, {\n    interactionType: InteractionType.Redirect,\n    authenticationRequest: authRequest,\n    errorComponent: () => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n        left: \"0\",\n        top: \"0\",\n        display: \"flex\",\n        fontWeight: \"600\",\n        alignItems: \"center\",\n        pointerEvents: \"none\",\n        justifyContent: \"center\"\n      },\n      children: \"You are offline. No connection.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }, this),\n    loadingComponent: () => /*#__PURE__*/_jsxDEV(SvassLoginLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(AzureRoute, \"j8M1Al6myzEsF3QekGxAeN8GrWo=\", false, function () {\n  return [useMsal];\n});\n_c = AzureRoute;\nexport default AzureRoute;\nvar _c;\n$RefreshReg$(_c, \"AzureRoute\");","map":{"version":3,"names":["React","useEffect","useState","callMsGraph","loginRequest","MsalAuthenticationTemplate","useMsal","InteractionStatus","InteractionType","InteractionRequiredAuthError","App","SvassLoginLoader","jsxDEV","_jsxDEV","Fragment","_Fragment","AzureRoute","_s","instance","inProgress","graphData","setGraphData","None","then","response","catch","e","acquireTokenRedirect","account","getActiveAccount","authRequest","interactionType","Redirect","authenticationRequest","errorComponent","style","position","width","height","left","top","display","fontWeight","alignItems","pointerEvents","justifyContent","children","fileName","_jsxFileName","lineNumber","columnNumber","loadingComponent","_c","$RefreshReg$"],"sources":["/home/saurabhtiwari/Downloads/githubclone-IQ/SymptomIQ/src/modules/azure/azureRouting.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { callMsGraph } from \"./graphConfig\";\nimport { loginRequest } from \"./authConfig\";\nimport { MsalAuthenticationTemplate, useMsal } from \"@azure/msal-react\";\nimport {\n  InteractionStatus,\n  InteractionType,\n  InteractionRequiredAuthError,\n  AccountInfo,\n} from \"@azure/msal-browser\";\nimport App from \"../../App\";\nimport SvassLoginLoader from \"@app/assets/icons/svaasloginloader\";\n\n\nfunction AzureRoute() {\n  const { instance, inProgress } = useMsal();\n  const [graphData, setGraphData] = useState<any>(null);\n  // const { name } = useParams<RouteParams>();\n\n  useEffect(() => {\n    if (!graphData && inProgress === InteractionStatus.None) {\n      callMsGraph()\n        .then((response) => {\n          setGraphData(response);\n        })\n\n        .catch((e) => {\n          if (e instanceof InteractionRequiredAuthError) {\n            instance.acquireTokenRedirect({\n              ...loginRequest,\n              account: instance.getActiveAccount() as AccountInfo,\n            });\n          }\n        });\n    }\n  }, [inProgress, graphData, instance]);\n\n\n  const authRequest = {\n    ...loginRequest,\n  };\n  return (\n    <MsalAuthenticationTemplate\n      interactionType={InteractionType.Redirect}\n      authenticationRequest={authRequest}\n      errorComponent={() => <div style={{\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n        left: \"0\",\n        top: \"0\",\n        display: \"flex\",\n        fontWeight: \"600\",\n        alignItems: \"center\",\n        pointerEvents: \"none\",\n        justifyContent: \"center\",\n      }}>You are offline. No connection.</div>}\n      loadingComponent={() => (\n        <SvassLoginLoader />\n      )\n      }>\n      <>\n        <App />\n      </>\n    </MsalAuthenticationTemplate >\n  );\n}\nexport default AzureRoute;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,eAAe;AAC3C,SAASC,YAAY,QAAQ,cAAc;AAC3C,SAASC,0BAA0B,EAAEC,OAAO,QAAQ,mBAAmB;AACvE,SACEC,iBAAiB,EACjBC,eAAe,EACfC,4BAA4B,QAEvB,qBAAqB;AAC5B,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,gBAAgB,MAAM,oCAAoC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGlE,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACpB,MAAM;IAAEC,QAAQ;IAAEC;EAAW,CAAC,GAAGb,OAAO,CAAC,CAAC;EAC1C,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAM,IAAI,CAAC;EACrD;;EAEAD,SAAS,CAAC,MAAM;IACd,IAAI,CAACmB,SAAS,IAAID,UAAU,KAAKZ,iBAAiB,CAACe,IAAI,EAAE;MACvDnB,WAAW,CAAC,CAAC,CACVoB,IAAI,CAAEC,QAAQ,IAAK;QAClBH,YAAY,CAACG,QAAQ,CAAC;MACxB,CAAC,CAAC,CAEDC,KAAK,CAAEC,CAAC,IAAK;QACZ,IAAIA,CAAC,YAAYjB,4BAA4B,EAAE;UAC7CS,QAAQ,CAACS,oBAAoB,CAAC;YAC5B,GAAGvB,YAAY;YACfwB,OAAO,EAAEV,QAAQ,CAACW,gBAAgB,CAAC;UACrC,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;IACN;EACF,CAAC,EAAE,CAACV,UAAU,EAAEC,SAAS,EAAEF,QAAQ,CAAC,CAAC;EAGrC,MAAMY,WAAW,GAAG;IAClB,GAAG1B;EACL,CAAC;EACD,oBACES,OAAA,CAACR,0BAA0B;IACzB0B,eAAe,EAAEvB,eAAe,CAACwB,QAAS;IAC1CC,qBAAqB,EAAEH,WAAY;IACnCI,cAAc,EAAEA,CAAA,kBAAMrB,OAAA;MAAKsB,KAAK,EAAE;QAChCC,QAAQ,EAAE,UAAU;QACpBC,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE,GAAG;QACTC,GAAG,EAAE,GAAG;QACRC,OAAO,EAAE,MAAM;QACfC,UAAU,EAAE,KAAK;QACjBC,UAAU,EAAE,QAAQ;QACpBC,aAAa,EAAE,MAAM;QACrBC,cAAc,EAAE;MAClB,CAAE;MAAAC,QAAA,EAAC;IAA+B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAE;IACzCC,gBAAgB,EAAEA,CAAA,kBAChBtC,OAAA,CAACF,gBAAgB;MAAAoC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAEpB;IAAAJ,QAAA,eACDjC,OAAA,CAAAE,SAAA;MAAA+B,QAAA,eACEjC,OAAA,CAACH,GAAG;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC,gBACP;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACwB,CAAC;AAElC;AAACjC,EAAA,CApDQD,UAAU;EAAA,QACgBV,OAAO;AAAA;AAAA8C,EAAA,GADjCpC,UAAU;AAqDnB,eAAeA,UAAU;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}