{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{callMsGraph}from\"./graphConfig\";import{loginRequest}from\"./authConfig\";import{MsalAuthenticationTemplate,useMsal}from\"@azure/msal-react\";import{InteractionStatus,InteractionType,InteractionRequiredAuthError}from\"@azure/msal-browser\";import App from\"../../App\";import SvassLoginLoader from\"@app/assets/icons/svaasloginloader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AzureRoute(){const{instance,inProgress}=useMsal();const[graphData,setGraphData]=useState(null);// const { name } = useParams<RouteParams>();\nuseEffect(()=>{if(!graphData&&inProgress===InteractionStatus.None){callMsGraph().then(response=>{setGraphData(response);}).catch(e=>{if(e instanceof InteractionRequiredAuthError){instance.acquireTokenRedirect({...loginRequest,account:instance.getActiveAccount()});}});}},[inProgress,graphData,instance]);const authRequest={...loginRequest};return/*#__PURE__*/_jsx(MsalAuthenticationTemplate,{interactionType:InteractionType.Redirect,authenticationRequest:authRequest,errorComponent:()=>/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",width:\"100%\",height:\"100%\",left:\"0\",top:\"0\",display:\"flex\",fontWeight:\"600\",alignItems:\"center\",pointerEvents:\"none\",justifyContent:\"center\"},children:\"You are offline. No connection.\"}),loadingComponent:()=>/*#__PURE__*/_jsx(SvassLoginLoader,{}),children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(App,{})})});}export default AzureRoute;","map":{"version":3,"names":["React","useEffect","useState","callMsGraph","loginRequest","MsalAuthenticationTemplate","useMsal","InteractionStatus","InteractionType","InteractionRequiredAuthError","App","SvassLoginLoader","jsx","_jsx","Fragment","_Fragment","AzureRoute","instance","inProgress","graphData","setGraphData","None","then","response","catch","e","acquireTokenRedirect","account","getActiveAccount","authRequest","interactionType","Redirect","authenticationRequest","errorComponent","style","position","width","height","left","top","display","fontWeight","alignItems","pointerEvents","justifyContent","children","loadingComponent"],"sources":["/home/saurabhtiwari/Downloads/githubclone-IQ/SymptomIQ/src/modules/azure/azureRouting.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { callMsGraph } from \"./graphConfig\";\nimport { loginRequest } from \"./authConfig\";\nimport { MsalAuthenticationTemplate, useMsal } from \"@azure/msal-react\";\nimport {\n  InteractionStatus,\n  InteractionType,\n  InteractionRequiredAuthError,\n  AccountInfo,\n} from \"@azure/msal-browser\";\nimport App from \"../../App\";\nimport SvassLoginLoader from \"@app/assets/icons/svaasloginloader\";\n\n\nfunction AzureRoute() {\n  const { instance, inProgress } = useMsal();\n  const [graphData, setGraphData] = useState<any>(null);\n  // const { name } = useParams<RouteParams>();\n\n  useEffect(() => {\n    if (!graphData && inProgress === InteractionStatus.None) {\n      callMsGraph()\n        .then((response) => {\n          setGraphData(response);\n        })\n\n        .catch((e) => {\n          if (e instanceof InteractionRequiredAuthError) {\n            instance.acquireTokenRedirect({\n              ...loginRequest,\n              account: instance.getActiveAccount() as AccountInfo,\n            });\n          }\n        });\n    }\n  }, [inProgress, graphData, instance]);\n\n\n  const authRequest = {\n    ...loginRequest,\n  };\n  return (\n    <MsalAuthenticationTemplate\n      interactionType={InteractionType.Redirect}\n      authenticationRequest={authRequest}\n      errorComponent={() => <div style={{\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n        left: \"0\",\n        top: \"0\",\n        display: \"flex\",\n        fontWeight: \"600\",\n        alignItems: \"center\",\n        pointerEvents: \"none\",\n        justifyContent: \"center\",\n      }}>You are offline. No connection.</div>}\n      loadingComponent={() => (\n        <SvassLoginLoader />\n      )\n      }>\n      <>\n        <App />\n      </>\n    </MsalAuthenticationTemplate >\n  );\n}\nexport default AzureRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,eAAe,CAC3C,OAASC,YAAY,KAAQ,cAAc,CAC3C,OAASC,0BAA0B,CAAEC,OAAO,KAAQ,mBAAmB,CACvE,OACEC,iBAAiB,CACjBC,eAAe,CACfC,4BAA4B,KAEvB,qBAAqB,CAC5B,MAAO,CAAAC,GAAG,KAAM,WAAW,CAC3B,MAAO,CAAAC,gBAAgB,KAAM,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGlE,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAAEC,QAAQ,CAAEC,UAAW,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAC1C,KAAM,CAACa,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAM,IAAI,CAAC,CACrD;AAEAD,SAAS,CAAC,IAAM,CACd,GAAI,CAACkB,SAAS,EAAID,UAAU,GAAKX,iBAAiB,CAACc,IAAI,CAAE,CACvDlB,WAAW,CAAC,CAAC,CACVmB,IAAI,CAAEC,QAAQ,EAAK,CAClBH,YAAY,CAACG,QAAQ,CAAC,CACxB,CAAC,CAAC,CAEDC,KAAK,CAAEC,CAAC,EAAK,CACZ,GAAIA,CAAC,WAAY,CAAAhB,4BAA4B,CAAE,CAC7CQ,QAAQ,CAACS,oBAAoB,CAAC,CAC5B,GAAGtB,YAAY,CACfuB,OAAO,CAAEV,QAAQ,CAACW,gBAAgB,CAAC,CACrC,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACN,CACF,CAAC,CAAE,CAACV,UAAU,CAAEC,SAAS,CAAEF,QAAQ,CAAC,CAAC,CAGrC,KAAM,CAAAY,WAAW,CAAG,CAClB,GAAGzB,YACL,CAAC,CACD,mBACES,IAAA,CAACR,0BAA0B,EACzByB,eAAe,CAAEtB,eAAe,CAACuB,QAAS,CAC1CC,qBAAqB,CAAEH,WAAY,CACnCI,cAAc,CAAEA,CAAA,gBAAMpB,IAAA,QAAKqB,KAAK,CAAE,CAChCC,QAAQ,CAAE,UAAU,CACpBC,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE,GAAG,CACTC,GAAG,CAAE,GAAG,CACRC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,KAAK,CACjBC,UAAU,CAAE,QAAQ,CACpBC,aAAa,CAAE,MAAM,CACrBC,cAAc,CAAE,QAClB,CAAE,CAAAC,QAAA,CAAC,iCAA+B,CAAK,CAAE,CACzCC,gBAAgB,CAAEA,CAAA,gBAChBjC,IAAA,CAACF,gBAAgB,GAAE,CAEpB,CAAAkC,QAAA,cACDhC,IAAA,CAAAE,SAAA,EAAA8B,QAAA,cACEhC,IAAA,CAACH,GAAG,GAAE,CAAC,CACP,CAAC,CACwB,CAAC,CAElC,CACA,cAAe,CAAAM,UAAU"},"metadata":{},"sourceType":"module"}