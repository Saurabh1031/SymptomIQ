{"version":3,"file":"api-client.js","mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAQ,kBAAoBD,IAE5BD,EAAK,kBAAoBC,GAC1B,CATD,CASGK,MAAM,IACT,gDCTAC,OAAOC,eAAeN,EAAS,aAAc,CAAEO,OAAO,IACtDP,EAAQQ,eAAY,EAiDpBR,EAAQQ,UAhDR,MACIC,YAAYC,EAAQC,GAChBC,KAAKF,OAASA,EACdE,KAAKD,KAAOA,CAChB,CACAE,gBAAgBC,GACZ,MAAMC,EAAU,CACZC,UAAWJ,KAAKF,OAChBO,OAAQH,GAEZ,OAAOF,KAAKD,KAAKO,KAAK,qBAAsBH,GAASI,MAAKC,IACtD,MAAMC,OAAqC,IAAnBD,EAASE,MAC3BC,GAAcF,GAAYA,IAAqC,OAAzBD,EAASE,MAAME,KAE3D,MAAO,CAAEC,qBADkD,IAA5BL,EAASM,gBAAiCN,EAASM,eACxDH,aAAY,GAE9C,CACAI,YAAYC,GACR,OAAOhB,KAAKD,KAAKO,KAAK,WAAYU,EACtC,CACAC,SAASC,EAAWC,GAChB,OAAOnB,KAAKD,KAAKO,KAAK,aAAc,CAChCc,WAAYF,EACZC,KAAMA,GAEd,CACAE,UAAUC,EAAMC,EAAUC,EAAOC,EAAMC,EAAMR,GACzC,MAAMf,EAAU,CACZwB,IAAKL,EACLE,MAAOA,EACPC,KAAMA,EACNG,IAAK,CAAEC,IAAK7B,KAAKF,QACjB4B,KAAMA,EACNN,WAAYF,GAEhB,OAAOlB,KAAKD,KAAKO,KAAK,SAAUH,GAASI,MAAK,KACnC,CAAEe,OAAMC,cAEvB,CACAO,aAAaC,EAAUF,EAAKlC,GACxB,OAAOK,KAAKD,KAAKO,KAAK,mBAAoB,CACtC0B,QAAShC,KAAKF,OACdmC,UAAWF,EACXF,IAAKA,EACLlC,MAAOA,GAEf,UDvCJ","sources":["webpack://@bugfender/sdk/webpack/universalModuleDefinition","webpack://@bugfender/sdk/./src/api-client.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@bugfender/sdk\"] = factory();\n\telse\n\t\troot[\"@bugfender/sdk\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ApiClient = void 0;\nclass ApiClient {\n    constructor(appKey, http) {\n        this.appKey = appKey;\n        this.http = http;\n    }\n    getDeviceStatus(deviceInfo) {\n        const payload = {\n            app_token: this.appKey,\n            device: deviceInfo,\n        };\n        return this.http.post('/app/device-status', payload).then(response => {\n            const hasError = typeof response.error !== 'undefined';\n            const isAppValid = !hasError || hasError && response.error.code !== -1004;\n            const isDeviceEnabled = typeof response.logger_enabled !== 'undefined' ? response.logger_enabled : false;\n            return { isDeviceEnabled, isAppValid };\n        });\n    }\n    sendSession(session) {\n        return this.http.post('/session', session);\n    }\n    sendLogs(sessionId, logs) {\n        return this.http.post('/log/batch', {\n            session_id: sessionId,\n            logs: logs,\n        });\n    }\n    sendIssue(uuid, issueURL, title, text, type, sessionId) {\n        const payload = {\n            uid: uuid,\n            title: title,\n            text: text,\n            app: { key: this.appKey },\n            type: type,\n            session_id: sessionId,\n        };\n        return this.http.post('/issue', payload).then(() => {\n            return { uuid, issueURL };\n        });\n    }\n    setDeviceKey(deviceId, key, value) {\n        return this.http.post('/device/keyvalue', {\n            app_key: this.appKey,\n            device_id: deviceId,\n            key: key,\n            value: value,\n        });\n    }\n}\nexports.ApiClient = ApiClient;\n"],"names":["root","factory","exports","module","define","amd","self","Object","defineProperty","value","ApiClient","constructor","appKey","http","this","getDeviceStatus","deviceInfo","payload","app_token","device","post","then","response","hasError","error","isAppValid","code","isDeviceEnabled","logger_enabled","sendSession","session","sendLogs","sessionId","logs","session_id","sendIssue","uuid","issueURL","title","text","type","uid","app","key","setDeviceKey","deviceId","app_key","device_id"],"sourceRoot":""}