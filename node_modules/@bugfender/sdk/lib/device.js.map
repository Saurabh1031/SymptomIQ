{"version":3,"file":"device.js","mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAQ,kBAAoBD,IAE5BD,EAAK,kBAAoBC,GAC1B,CATD,CASGK,MAAM,IACT,uCCAA,IAAWC,EANAC,EAHXC,OAAOC,eAAeR,EAAS,aAAc,CAAES,OAAO,IACtDT,EAAQK,kBAAoBL,EAAQM,qBAAkB,GAE3CA,EAIUN,EAAQM,kBAAoBN,EAAQM,gBAAkB,CAAC,IAHjD,MAAI,YAC3BA,EAA4B,WAAI,iBAChCA,EAA4B,WAAI,kBAGzBD,EAGYL,EAAQK,oBAAsBL,EAAQK,kBAAoB,CAAC,IAF/C,YAAI,kBACnCA,EAA+B,YAAI,oBCXnCK,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAab,QAGrB,IAAIC,EAASS,EAAyBE,GAAY,CAGjDZ,QAAS,CAAC,GAOX,OAHAe,EAAoBH,GAAUX,EAAQA,EAAOD,QAASW,GAG/CV,EAAOD,OACf,8BCrBAO,OAAOC,eAAeR,EAAS,aAAc,CAAES,OAAO,IACtDT,EAAQgB,YAAS,EACjB,MAAMC,EAAiB,EAAQ,MAiD/BjB,EAAQgB,OAhDR,MACIE,YAAYC,EAASC,EAAcC,EAAYC,GAC3CC,KAAKJ,QAAUA,EACfI,KAAKH,aAAeA,EACpBG,KAAKF,WAAaA,EAClBE,KAAKD,YAAcA,CACvB,CACAE,gBACI,IAAIC,EAAOF,KAAKH,aAAaM,QAAQT,EAAeX,gBAAgBqB,YAIpE,OAHa,OAATF,IACAA,EAAO,MAEJG,KAAKC,MAAMJ,EACtB,CACAK,QAAQC,GACJ,MAAO,CACHC,KAAMT,KAAKU,UACXC,KAAMH,EAAQI,WACdC,YAAa,GACbC,mBAAmB,EACnBC,WAAYf,KAAKC,gBACjBe,SAAUhB,KAAKJ,QAAQqB,cACvBC,WAAYlB,KAAKJ,QAAQuB,eACzBC,SAAU,MACVC,YAAarB,KAAKF,WAAWwB,WAC7BC,MAAOf,EAAQe,MACfC,QAAShB,EAAQgB,QAEzB,CACAd,UACI,IAAID,EAAOT,KAAKH,aAAaM,QAAQT,EAAeX,gBAAgB0C,YAKpE,OAJa,OAAThB,IACAA,EAAOT,KAAKD,YAAY2B,SACxB1B,KAAKH,aAAa8B,QAAQjC,EAAeX,gBAAgB0C,WAAYhB,IAElEA,CACX,CACAmB,aAAaC,EAAK3C,GACd,MAAMgB,EAAOF,KAAKC,gBACJ,OAAVf,SACOgB,EAAK2B,GAGZ3B,EAAK2B,GAAO3C,EAEhBc,KAAKH,aAAa8B,QAAQjC,EAAeX,gBAAgBqB,WAAYC,KAAKyB,UAAU5B,GACxF,UHxCJ","sources":["webpack://@bugfender/sdk/webpack/universalModuleDefinition","webpack://@bugfender/sdk/./src/storage-keys.ts","webpack://@bugfender/sdk/webpack/bootstrap","webpack://@bugfender/sdk/./src/device.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@bugfender/sdk\"] = factory();\n\telse\n\t\troot[\"@bugfender/sdk\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionStorageKey = exports.LocalStorageKey = void 0;\nvar LocalStorageKey;\n(function (LocalStorageKey) {\n    LocalStorageKey[\"AppID\"] = \"bf_app_id\";\n    LocalStorageKey[\"DeviceData\"] = \"bf_device_data\";\n    LocalStorageKey[\"DeviceUDID\"] = \"bf_device_udid\";\n})(LocalStorageKey = exports.LocalStorageKey || (exports.LocalStorageKey = {}));\nvar SessionStorageKey;\n(function (SessionStorageKey) {\n    SessionStorageKey[\"SessionUDID\"] = \"bf_session_udid\";\n    SessionStorageKey[\"SessionUUID\"] = \"bf_session_uuid\";\n})(SessionStorageKey = exports.SessionStorageKey || (exports.SessionStorageKey = {}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Device = void 0;\nconst storage_keys_1 = require(\"./storage-keys\");\nclass Device {\n    constructor(browser, localStorage, sdkVersion, uuidFactory) {\n        this.browser = browser;\n        this.localStorage = localStorage;\n        this.sdkVersion = sdkVersion;\n        this.uuidFactory = uuidFactory;\n    }\n    getDeviceData() {\n        let data = this.localStorage.getItem(storage_keys_1.LocalStorageKey.DeviceData);\n        if (data === null) {\n            data = '{}';\n        }\n        return JSON.parse(data);\n    }\n    getInfo(options) {\n        return {\n            udid: this.getUDID(),\n            name: options.deviceName,\n            device_type: '',\n            firebase_test_lab: false,\n            key_values: this.getDeviceData(),\n            language: this.browser.getLanguage(),\n            os_version: this.browser.getOSVersion(),\n            sdk_type: 'web',\n            sdk_version: this.sdkVersion.toString(),\n            build: options.build,\n            version: options.version,\n        };\n    }\n    getUDID() {\n        let udid = this.localStorage.getItem(storage_keys_1.LocalStorageKey.DeviceUDID);\n        if (udid === null) {\n            udid = this.uuidFactory.create();\n            this.localStorage.setItem(storage_keys_1.LocalStorageKey.DeviceUDID, udid);\n        }\n        return udid;\n    }\n    setDeviceKey(key, value) {\n        const data = this.getDeviceData();\n        if (value === null) {\n            delete data[key];\n        }\n        else {\n            data[key] = value;\n        }\n        this.localStorage.setItem(storage_keys_1.LocalStorageKey.DeviceData, JSON.stringify(data));\n    }\n}\nexports.Device = Device;\n"],"names":["root","factory","exports","module","define","amd","self","SessionStorageKey","LocalStorageKey","Object","defineProperty","value","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","Device","storage_keys_1","constructor","browser","localStorage","sdkVersion","uuidFactory","this","getDeviceData","data","getItem","DeviceData","JSON","parse","getInfo","options","udid","getUDID","name","deviceName","device_type","firebase_test_lab","key_values","language","getLanguage","os_version","getOSVersion","sdk_type","sdk_version","toString","build","version","DeviceUDID","create","setItem","setDeviceKey","key","stringify"],"sourceRoot":""}