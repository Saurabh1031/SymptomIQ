/*! For license information please see utils.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@bugfender/sdk"]=t():e["@bugfender/sdk"]=t()}(self,(()=>(()=>{"use strict";var e={};return(()=>{var t=e;Object.defineProperty(t,"__esModule",{value:!0}),t.getElByXPath=t.getXPath=t.DebounceByElement=t.UnreachableCaseError=t.CacheDecoratorFactory=t.createDeferred=void 0,t.createDeferred=function(){const e={isFulfilled:!1,isRejected:!1,isResolved:!1};return e.promise=new Promise(((t,r)=>{e.resolve=r=>{const n=e;n.isFulfilled=!0,n.isRejected=!1,n.isResolved=!0,n.value=r,t(r)},e.reject=t=>{const n=e;n.isFulfilled=!0,n.isRejected=!0,n.isResolved=!1,n.err=t,r(t)}})),e},t.CacheDecoratorFactory=function(e){return function(){return function(t,r,n){const o=n.value;n.value=function(){return e.has(r)||e.set(r,o.apply(this)),e.get(r)}}}};class r extends Error{constructor(e){super(`Unreachable case: ${JSON.stringify(e)}`)}}t.UnreachableCaseError=r,t.DebounceByElement=class{constructor(e){this.wait=e,this.timers=new Map}run(e,t){this.timers.has(e)&&clearTimeout(this.timers.get(e)),this.timers.set(e,setTimeout((()=>{t(),this.timers.delete(e)}),this.wait))}},t.getXPath=function(e){let t=e;if(t instanceof Element&&t.id)return'//*[@id="'+t.id+'"]';const r=[];for(;t&&t instanceof Element;){const e=t;let n=0,o=!1,i=e.previousSibling;for(;i;)i.nodeType!==Node.DOCUMENT_TYPE_NODE&&i.nodeName===e.nodeName&&n++,i=i.previousSibling;for(i=e.nextSibling;i;){if(i.nodeName===e.nodeName){o=!0;break}i=i.nextSibling}const s=e.prefix?e.prefix+":":"",l=n||o?`[${n+1}]`:"";r.push(s+e.localName+l),t=e.parentNode}return r.length?"/"+r.reverse().join("/"):""},t.getElByXPath=function(e){var t;return null!==(t=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)&&void 0!==t?t:void 0}})(),e})()));
//# sourceMappingURL=utils.js.map